{"version":3,"sources":["uni-app:///main.js","webpack:///F:/code/it-akacar/it-akacar-ui/it-akacar-ui-customer/pages/create_order/create_order.vue?1b0c","webpack:///F:/code/it-akacar/it-akacar-ui/it-akacar-ui-customer/pages/create_order/create_order.vue?fb73","webpack:///F:/code/it-akacar/it-akacar-ui/it-akacar-ui-customer/pages/create_order/create_order.vue?a17f","webpack:///F:/code/it-akacar/it-akacar-ui/it-akacar-ui-customer/pages/create_order/create_order.vue?d8a8","uni-app:///pages/create_order/create_order.vue","webpack:///F:/code/it-akacar/it-akacar-ui/it-akacar-ui-customer/pages/create_order/create_order.vue?ed15","webpack:///F:/code/it-akacar/it-akacar-ui/it-akacar-ui-customer/pages/create_order/create_order.vue?574f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","from","address","longitude","latitude","to","contentStyle","windowHeight","distance","duration","polyline","markers","infoStatus","car","carId","carPlate","carType","showCar","showPopup","timestamp","timestampStaring","orderNo","map","acceptOrderTimer","uModalShow","inPorcessOrderId","methods","countChangeHandle","_this","success","uni","url","countDownCancelHandle","message","title","icon","loadInProcessOrder","cancelHandle","createOrderHandle","startPlace","startPlaceLongitude","startPlaceLatitude","endPlace","endPlaceLongitude","endPlaceLatitude","expectsMileage","expectMinutes","console","chooseCarHandle","initStyle","initMap","qqmapsdk","key","drawLine","mode","pl","coors","points","width","color","arrowLine","id","iconPath","height","fail","complete","onLoad","onShow","onUnload"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,qBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACkL;AAClL,gBAAgB,sLAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAorB,CAAgB,mqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6ExsB;AACA;AAAA,eACA;EACAC;IACA;MACA;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAH;QACAC;QACAC;MACA;MACA;MACAE;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACAC;MAEA;MACAC;MACAC;QACA;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACA;QACA;QAEAC;UACA;YAAAC;YAAA7B;UACA;YACA;YACA4B;;YAEA;YACA,sEACA5B,gEACAA;cACA;cACA4B;cACAA;cACA;cACA;cACA;cACAE;gBACAC;cACA;YACA;UAEA;QAEA;MACA;IAEA;IACA;IACAC;MACA;MACAJ;QACA;UAAAC;UAAAI;QACA;UACAH;YACAI;YAAAC;UACA;UACAP;UACAA;QACA;UACAE;YACAI;YAAAC;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MAEAR;QACA;UAAAC;UAAA7B;QACA;UACA;UACA4B;;UAEA;UACA;YACA;YACAA;YACAA;UACA,4EACA5B,+DACAA;YACA;YACA;YACA8B;cACAC;YACA;UACA;YACAD;cACAC;YACA;UACA;QAEA;MAEA;IACA;IACA;IACAM;MACA;MACAT;QACA;UAAAC;UAAAI;QACA;UACAH;YACAI;YAAAC;UACA;UACAP;UACAA;QACA;UACAE;YACAI;YAAAC;UACA;QACA;MACA;IACA;IACA;IACAG;MACA;MACA;QACA;QACAC;QACAC;QACAC;QACA;QACAC;QACAC;QACAC;QACA;QACA7B;QACAC;QACA;QACA6B;QACAC;MACA;MACA;MACAlB;QACA;UAAAC;UAAAI;UAAAjC;QACA+C;QACA;UACA;UACAnB;UACAA;UACAA;UACAA;QACA;MACA;IACA;IACA;IACAoB;MACA;MACAlB;QACAC;MACA;IACA;IACA;IACAkB;MACA;MACA;MACA;MACArB;MACAA;IACA;IACA;IACAsB;MACA;MACA;MACAC;QACAC;MACA;MACA;MACAxB;IACA;IACA;IACAyB;MACA;MACA;MACAF;QACA;QACAG;QACA;QACArD;UACAE;UACAC;QACA;QACAC;UACAF;UACAC;QACA;QACAyB;UAEA;UACA;YAAA0B;UACA;UACA;UACA;UACA;UACA3B;UACAA;;UAGA;UACA;UACA;YACA4B;UACA;UACA;UACA;YACAD;cAAAnD;cAAAD;YAAA;UACA;;UAEA;UACAyB;YACA6B;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;UACA;UACA;UACAhC,iBACA;YACAiC;YACAzD;YACAD;YACA+B;YACA4B;YACAJ;YACAK;UACA,GACA;YACAF;YACAzD;YACAD;YACA+B;YACA4B;YACAJ;YACAK;UACA,EACA;QACA;QACAC;UACAjB;QACA;QACAkB;UACAlB;QACA;MACA;IACA;EACA;EACAmB;IACA;IACAtC;IACAA;IACA;IACAA;IACAA;;IAEA;IACAA;EACA;EACAuC;IACA;IACA;IACA;IACA;MACAvC;MACAA;IACA;IACAA;EACA;EACAwC,+BACA;AACA;AAAA,2B;;;;;;;;;;;;;ACjYA;AAAA;AAAA;AAAA;AAA2vC,CAAgB,upCAAG,EAAC,C;;;;;;;;;;;ACA/wC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/create_order/create_order.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/create_order/create_order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./create_order.vue?vue&type=template&id=58a8cc34&\"\nvar renderjs\nimport script from \"./create_order.vue?vue&type=script&lang=js&\"\nexport * from \"./create_order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./create_order.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/create_order/create_order.vue\"\nexport default component.exports","export * from \"-!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create_order.vue?vue&type=template&id=58a8cc34&\"","var components\ntry {\n  components = {\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uCountDown: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-count-down/u-count-down\" */ \"@/uview-ui/components/u-count-down/u-count-down.vue\"\n      )\n    },\n    uTopTips: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-top-tips/u-top-tips\" */ \"@/uview-ui/components/u-top-tips/u-top-tips.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create_order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create_order.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"address-container\">\n\t\t\t<view class=\"from\">\n\t\t\t\t<text>{{ from.address }}</text>\n\t\t\t</view>\n\t\t\t<view class=\"dashed-line\"></view>\n\t\t\t<view class=\"to\">\n\t\t\t\t<text>{{ to.address }}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<view v-if=\"inPorcessOrderId != null\" class=\"order-process\" @click=\"toInProcessOrder\">您有进行中的订单,点击查看</view>\n\t\t<map\n\t\t\tid=\"map\"\n\t\t\t:longitude=\"from.longitude\"\n\t\t\t:latitude=\"from.latitude\"\n\t\t\t:style=\"contentStyle\"\n\t\t\tscale=\"14\"\n\t\t\t:enable-traffic=\"false\"\n\t\t\t:show-location=\"true\"\n\t\t\tclass=\"map\"\n\t\t\t:polyline=\"polyline\"\n\t\t\t:markers=\"markers\"\n\t\t></map>\n\n\t\t<view class=\"panel\">\n\t\t\t<view class=\"row\">\n\t\t\t\t<view class=\"info\">\n\t\t\t\t\t<view class=\"label\">全程</view>\n\t\t\t\t\t<view class=\"value\">\n\t\t\t\t\t\t<text>{{ distance }}</text>\n\t\t\t\t\t\t公里\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"label\">，预计</view>\n\t\t\t\t\t<view class=\"value\">\n\t\t\t\t\t\t<text>{{ duration }}</text>\n\t\t\t\t\t\t分钟\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"opt\" @tap=\"chooseCarHandle\" v-if=\"!showCar\">选择车辆</view>\n\t\t\t\t<view class=\"opt\" @tap=\"chooseCarHandle\" v-if=\"showCar\">{{ car.carType }}{{ car.carPlate }}</view>\n\t\t\t</view>\n\t\t\t<button class=\"btn\" @tap=\"createOrderHandle\">呼叫代驾</button>\n\t\t</view>\n\t\t<u-popup v-model=\"showPopup\" mode=\"center\" width=\"600\" height=\"280\" :mask-close-able=\"false\">\n\t\t\t<view class=\"popup-title\">您的订单正在等待司机接单</view>\n\t\t\t<view class=\"count-down\">\n\t\t\t\t<u-count-down\n\t\t\t\t\tref=\"uCountDown\"\n\t\t\t\t\t:timestamp=\"timestamp\"\n\t\t\t\t\t:autoplay=\"false\"\n\t\t\t\t\tseparator=\"zh\"\n\t\t\t\t\t:show-hours=\"false\"\n\t\t\t\t\t:show-border=\"true\"\n\t\t\t\t\tbg-color=\"#DDF0FF\"\n\t\t\t\t\tseparator-color=\"#0083F3\"\n\t\t\t\t\tborder-color=\"#0D90FF\"\n\t\t\t\t\tcolor=\"#0D90FF\"\n\t\t\t\t\tfont-size=\"32\"\n\t\t\t\t\t@end=\"countDownCancelHandle\"\n\t\t\t\t\t@change=\"countChangeHandle\"\n\t\t\t\t></u-count-down>\n\t\t\t\t\n\t\t\t</view>\n\t\t\t<button class=\"btn\" @tap=\"cancelHandle\">取消订单</button>\n\t\t</u-popup>\n\t\t\n\t\t<u-top-tips ref=\"uTips\"></u-top-tips>\n\t\t<u-modal v-model=\"uModalShow\" \n\t\tshow-confirm-button=\"继续等待\"\n\t\tshow-cancel-button=\"确定取消\"\n\t\t@confirm=\"confirm\" ref=\"uModal\" :async-close=\"true\"></u-modal>\n\n\t</view>\n</template>\n\n<script>\nlet QQMapWX = require('../../lib/qqmap-wx-jssdk.min.js');\nlet qqmapsdk;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t//订单路线：开始位置和结束位子\n\t\t\tfrom: {\n\t\t\t\taddress: '',\n\t\t\t\tlongitude: 0,\n\t\t\t\tlatitude: 0\n\t\t\t},\n\t\t\tto: {\n\t\t\t\taddress: '',\n\t\t\t\tlongitude: 0,\n\t\t\t\tlatitude: 0\n\t\t\t},\n\t\t\t//窗口样式\n\t\t\tcontentStyle: '',\n\t\t\twindowHeight: 0,\n\t\t\t//距离和时长\n\t\t\tdistance: 0,\n\t\t\tduration: 0,\n\t\t\t//路线规划，路线坐标和图标\n\t\t\tpolyline: [],\n\t\t\tmarkers: [],\n\t\t\t\n\t\t\t//\n\t\t\tinfoStatus: true,\n\t\t\tcar:{\n\t\t\t\t//乘客选择的车辆\n\t\t\t\tcarId: null,\n\t\t\t\tcarPlate: null,\n\t\t\t\tcarType: null,\n\t\t\t},\n\t\t\tshowCar: false,\n\t\t\tshowPopup: false,\n\t\t\ttimestamp: 60,\n\t\t\ttimestampStaring:false,\n\t\t\torderNo: null,\n\t\t\t//地图组件\n\t\t\tmap:null,\n\t\t\t//接单的定时任务\n\t\t\tacceptOrderTimer:null,\n\t\t\tuModalShow:false,\n\t\t\t//是否有进行中的订单\n\t\t\tinPorcessOrderId:null\n\t\t};\n\t},\n\tmethods: {\n\t\t//倒计时改变\n\t\tcountChangeHandle(timestamp){\n\t\t\tlet _this = this;\n\t\t\t//5秒一次，检查订单是否已经被接单\n\t\t\tif(timestamp % 5 == 0 || timestamp == 2){\n\t\t\t\tlet _this = this;\n\t\t\t\t\n\t\t\t\t_this.get(\"/order/app/order/inprocess/customer\",(res)=>{\n\t\t\t\t\tlet {success , data} = res.data;\n\t\t\t\t\tif(success && data){\n\t\t\t\t\t\t//订单号赋值\n\t\t\t\t\t\t_this.orderNo = data.orderNo;\n\t\t\t\t\t\t\n\t\t\t\t\t\t//如果有进行中的订单，跳转 创建订单页\n\t\t\t\t\t\tif(data.status == _this.Consts.OrderStatus.ORDER_STATUS_ACCEPTED ||\n\t\t\t\t\t\t   data.status == _this.Consts.OrderStatus.ORDER_STATUS_ARRIVE ||\n\t\t\t\t\t\t   data.status == _this.Consts.OrderStatus.ORDER_STATUS_START_DRIVING ){\n\t\t\t\t\t\t    //订单未接单，跳转创建页\n\t\t\t\t\t\t    _this.showPopup = false;\n\t\t\t\t\t\t\t_this.timestamp = 0;\n\t\t\t\t\t\t    //_this.$refs.uCountDown.stop();\n\t\t\t\t\t\t    //接单 ，已到达，代驾中\n\t\t\t\t\t\t\t//跳转司乘同显页面\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl:\"/pages/move/move?orderNo=\"+_this.orderNo\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t//倒计时取消订单\n\t\tcountDownCancelHandle(){\n\t\t\tlet _this = this;\n\t\t\t_this.post(\"/order/app/order/cancel/auto/\"+_this.orderNo,(res)=>{\n\t\t\t\tlet {success, message} = res.data;\n\t\t\t\tif(success){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:\"订单自动取消\",icon:\"success\"\n\t\t\t\t\t})\n\t\t\t\t\t_this.showPopup = false;\n\t\t\t\t\t_this.$refs.uCountDown.stop();\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:\"订单自动取消失败:\"+message,icon:\"error\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//加载乘客进行中的订单\n\t\tloadInProcessOrder(){\n\t\t\tlet _this = this;\n\t\t\t\n\t\t\t_this.get(\"/order/app/order/inprocess/customer\",(res)=>{\n\t\t\t\tlet {success , data} = res.data;\n\t\t\t\tif(success && data){\n\t\t\t\t\t//订单号赋值\n\t\t\t\t\t_this.orderNo = data.orderNo;\n\t\t\t\t\t\n\t\t\t\t\t//如果有进行中的订单，跳转 创建订单页\n\t\t\t\t\tif(data.status == _this.Consts.OrderStatus.ORDER_STATUS_WAIT){ \n\t\t\t\t\t\t//订单未接单，跳转创建页\n\t\t\t\t\t\t_this.showPopup = true;\n\t\t\t\t\t\t_this.$refs.uCountDown.start();\n\t\t\t\t\t}else if(data.status == _this.Consts.OrderStatus.ORDER_STATUS_ACCEPTED ||\n\t\t\t\t\t\t\tdata.status == _this.Consts.OrderStatus.ORDER_STATUS_ARRIVE ||\n\t\t\t\t\t\t\tdata.status == _this.Consts.OrderStatus.ORDER_STATUS_START_DRIVING ){\n\t\t\t\t\t\t//接单 ，已到达，代驾中\n\t\t\t\t\t\t//跳转司乘同显页面\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl:\"/pages/move/move?orderNo=\"+_this.orderNo\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl:\"/pages/order/order?orderNo=\"+_this.orderNo\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t});\n\t\t},\n\t\t//乘客取消订单\n\t\tcancelHandle(){\n\t\t\tlet _this = this;\n\t\t\t_this.post(\"/order/app/order/cancel/customer/\"+_this.orderNo,(res)=>{\n\t\t\t\tlet {success, message} = res.data;\n\t\t\t\tif(success){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:\"订单已取消\",icon:\"success\"\n\t\t\t\t\t})\n\t\t\t\t\t_this.showPopup = false;\n\t\t\t\t\t_this.$refs.uCountDown.stop();\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:\"取消失败:\"+message,icon:\"error\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//乘客下单\n\t\tcreateOrderHandle(){\n\t\t\tlet _this = this;\n\t\t\tlet parma = {\n\t\t\t\t//开始位置信息\n\t\t\t\tstartPlace: _this.from.address,\n\t\t\t\tstartPlaceLongitude:_this.from.longitude,\n\t\t\t\tstartPlaceLatitude:_this.from.latitude,\n\t\t\t\t//结束位置信息\n\t\t\t\tendPlace:_this.to.address,\n\t\t\t\tendPlaceLongitude:_this.to.longitude,\n\t\t\t\tendPlaceLatitude:_this.to.latitude,\n\t\t\t\t//车辆信息\n\t\t\t\tcarPlate:_this.car.carPlate,\n\t\t\t\tcarType:_this.car.carType,\n\t\t\t\t//距离，时长\n\t\t\t\texpectsMileage:_this.distance,\n\t\t\t\texpectMinutes:_this.duration\n\t\t\t}\n\t\t\t//下单请求\n\t\t\t_this.post(\"/order/app/order/create\",parma,(res)=>{\n\t\t\t\tlet {success,message,data} = res.data;\n\t\t\t\tconsole.log(success,data);\n\t\t\t\tif(success){\n\t\t\t\t\t//订单号保存\n\t\t\t\t\t_this.orderNo = data;\n\t\t\t\t\t_this.showPopup = true;\n\t\t\t\t\t_this.timestamp = 60;\n\t\t\t\t\t_this.$refs.uCountDown.start();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//选车车辆\n\t\tchooseCarHandle(){\n\t\t\tlet _this = this;\n\t\t\tuni.navigateTo({\n\t\t\t\turl:\"/pages/car_list/car_list\"\n\t\t\t})\n\t\t},\n\t\t//初始化窗口样式\n\t\tinitStyle(){\n\t\t\tlet _this = this;\n\t\t\t//处理窗口样式\n\t\t\tlet windowHeight = uni.getSystemInfoSync().windowHeight;\n\t\t\t_this.windowHeight = windowHeight;\n\t\t\t_this.contentStyle = `height:${_this.windowHeight}px;`;\n\t\t},\n\t\t//初始化地图\n\t\tinitMap(){\n\t\t\tlet _this = this;\n\t\t\t//腾讯地图\n\t\t\tqqmapsdk = new QQMapWX({\n\t\t\t    key: _this.Consts.QQMAP_KEY\n\t\t\t}); \n\t\t\t//uniapp地图\n\t\t\t_this.map = uni.createMapContext(\"map\", this);\n\t\t},\n\t\t//画线\n\t\tdrawLine(){\n\t\t\tlet _this = this;\n\t\t\t//调用距离计算接口\n\t\t\tqqmapsdk.direction({\n\t\t\t  //可选值：'driving'（驾车）、'walking'（步行）、'bicycling'（骑行），不填默认：'driving',可不填\n\t\t\t  mode: 'driving',\n\t\t\t  //from参数不填默认当前地址\n\t\t\t  from: {\n\t\t\t\t  longitude: _this.from.longitude,\n\t\t\t\t  latitude: _this.from.latitude\n\t\t\t  },\n\t\t\t  to: {\n\t\t\t\t longitude: _this.to.longitude,\n\t\t\t\t latitude: _this.to.latitude \n\t\t\t  },\n\t\t\t  success: function (res) {\n\t\t\t\t\n\t\t\t\tvar ret = res;\n\t\t\t\tvar coors = ret.result.routes[0].polyline, pl = [];\n\t\t\t\t//距离 ： 千米\n\t\t\t\tlet distance = ret.result.routes[0].distance / 1000.0;\n\t\t\t\t//时长 \n\t\t\t\tlet duration = ret.result.routes[0].duration;\n\t\t\t\t_this.distance = distance;\n\t\t\t\t_this.duration = duration;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t//坐标解压（返回的点串坐标，通过前向差分进行压缩）\n\t\t\t\tvar kr = 1000000;\n\t\t\t\tfor (var i = 2; i < coors.length; i++) {\n\t\t\t\t  coors[i] = Number(coors[i - 2]) + Number(coors[i]) / kr;\n\t\t\t\t}\n\t\t\t\t//将解压后的坐标放入点串数组pl中\n\t\t\t\tfor (var i = 0; i < coors.length; i += 2) {\n\t\t\t\t  pl.push({ latitude: coors[i], longitude: coors[i + 1] })\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//设置polyline属性，将路线显示出来,将解压坐标第一个数据作为起点\n\t\t\t\t_this.polyline = [{\n\t\t\t\t\tpoints:pl,\t//路线坐标点-数组\n\t\t\t\t\twidth:4, //线条宽度\n\t\t\t\t\tcolor:\"#ff0000\" , //线条颜色\n\t\t\t\t\tarrowLine:true\t//带箭头的线\n\t\t\t\t}];\n\t\t\t\t//在地图上画 - 开始，结束图标\n\t\t\t\t_this.markers = [\n\t\t\t\t\t{\n\t\t\t\t\t\tid:1,\n\t\t\t\t\t\tlatitude:_this.from.latitude,\n\t\t\t\t\t\tlongitude:_this.from.longitude,\n\t\t\t\t\t\ttitle:\"起点\",\n\t\t\t\t\t\ticonPath:\"https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/start.png\",\n\t\t\t\t\t\twidth:26,\n\t\t\t\t\t\theight:35\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:2,\n\t\t\t\t\t\tlatitude:_this.to.latitude,\n\t\t\t\t\t\tlongitude:_this.to.longitude,\n\t\t\t\t\t\ttitle:\"终点\",\n\t\t\t\t\t\ticonPath:\"https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/end.png\",\n\t\t\t\t\t\twidth:26,\n\t\t\t\t\t\theight:35\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t  },\n\t\t\t  fail: function (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t  },\n\t\t\t  complete: function (res) {\n\t\t\t\tconsole.log(res);\n\t\t\t  }\n\t\t\t});\n\t\t}\n\t},\n\tonLoad: function(options) {\n\t\tlet _this = this;\n\t\t_this.initStyle();\n\t\t_this.initMap();\n\t\t//拿到位置信息\n\t\t_this.from = uni.getStorageSync(\"from\");\n\t\t_this.to = uni.getStorageSync(\"to\");\n\t\t\n\t\t//路线规划\n\t\t_this.drawLine();\n\t},\n\tonShow: function() {\n\t\tlet _this = this;\n\t\t//回填车辆\n\t\tlet car = uni.getStorageSync(\"car\");\n\t\tif(car){\n\t\t\t_this.showCar = true;\n\t\t\t_this.car = car;\n\t\t}\n\t\t_this.loadInProcessOrder();\n\t},\n\tonUnload() {\n\t}\n};\n</script>\n\n<style lang=\"less\">\n@import url('create_order.less');\n\n</style>\n","import mod from \"-!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create_order.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./create_order.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1722236832250\n      var cssReload = require(\"F:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}